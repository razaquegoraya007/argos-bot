'use strict';let _wl,_Yk=[],_gd=[],_ou=[],_0h=[],_gt,_fy={},_oj={},_Ee={},_7h;var _ts={},_pj={},_Ui,_Jo={},_tt={binSwtch:[]},_il={},_Xs,_Bp={};let _3s,_Rd=0,_Wj,_up=[],_jf=[],_0k={},_It={},_Ku=!1,_ai=!1,_Yu=!1,_Ct,_to;const _ra={},_co={},_Ba=window;var _ek="",_ik="",_Ia=Date.now(),_Hp=Math.floor(_Ia/1E3),_Dh=_e(),_Xj,_yw=new _qy;function _ki(a=0){return 20064<=(Date.now()/1E3/60/60/24|0)+a}_ki(5)&&_Sf.runtime.requestUpdateCheck((a,c)=>{"update_available"==a&&_hh(2)});
function _5o(a){let c=[],b=d=>{if(a){let e=a.shift();if("object"==typeof e)d[_0p(d)?"push":"add"](...e)}else c.push(d)};b(_Yk);b(_gd);b(_0h);b(_0k);b(_jf);b(_It);b(_Ee);return c}function _hh(a=0,c=!1,b){c&&(_1y("Wait","#F00"),_D("showNotif",!0));_D("noStupEvt",!0);_Ya(_Zd,null,d=>{a?(_D("extensionState",_5o()),1==a?location.reload():_Sf.runtime.reload()):_Xf()(b)})}_5o(_Jr("extensionState"));
_Jr("showNotif")&&_mt(function*(){var a=yield _yw.wait();a?_1y(" OK ","#0BAD01"):_1y("Error","#F00");setTimeout(()=>_1y(""),1E3);let c=_Jr("diagnostics");if(c)if(_Pf("userReload",c.add({NHConnect:a})),_kd(c,"downKeys","length"))_Sj(c.downKeys);else if(0==c.actWinMine){let b=c.lastFocusId||c.focusedId||c.hndlToId[c.focusWin];a=b?yield d=>_Ur(b,!0,d):null;_Zk(a)}});function _tl(){this.queue=[]}
_tl.prototype={execNext(){let a=this.queue[0];if(a)a(()=>{this.queue.shift();this.execNext()});else if(a=this.onEmptyCallback)delete this.onEmptyCallback,a()},addFunc(a){this.queue.push(a);1==this.queue.length&&this.execNext()},empty(){return!this.queue.length},onEmpty(a){this.empty()?a():this.onEmptyCallback=a}};let _hj=new _tl;
{let a=!1,c=[];var _se=(b,d)=>e=>_mt(function*(){if(a)c.push([d,e,b]);else for(;;){a=!0;_Dt=b;try{for(;;){var g=d();if(_hj.empty())break;yield f=>_hj.onEmpty(f)}}catch(f){_Pf("error",{stack:f.stack,context:"runAsyncSeqProc"})}a=!1;e(g);if(a||0==c.length)break;[d,e,b]=c.shift()}})}function _xd(a,c,...b){return _se(a,()=>c(...b))}function _Wh(a,c){_Sf.windows.create(a,b=>{b&&"normal"==b.type&&"about:blank"==_uu(b.tabs[0])&&(_co[b.tabs[0].id]=!0);c(b)})}
function _pu(a,c){_Sf.tabs.create(a,b=>{b&&"about:blank"==_uu(b)&&(_co[b.id]=!0);c(b)})}function _ag(...a){return[].concat(...a).filter(c=>_ts[c])};
